# ä»£ç ä¸æ–‡æ¡£æ€»ä½“å¯¹é½æƒ…å†µæŠ¥å‘Š

**æ–‡æ¡£æ—¥æœŸ**: 2025-12-21  
**æŠ¥å‘ŠèŒƒå›´**: ä»£ç å®ç° (app/) ä¸æ‰€æœ‰æ–‡æ¡£ (Api and database.txt, SDD, SRS, models.md) çš„å®Œæ•´å¯¹é½æƒ…å†µ  
**æŠ¥å‘Šå¯¹è±¡**: é¡¹ç›®æ€»ç»“ï¼Œä¸ºåç»­è¿­ä»£å’Œç»´æŠ¤æä¾›åŸºçº¿

---

## æ‰§è¡Œæ‘˜è¦

| ç»´åº¦ | è¯„ä¼° | å¾—åˆ† |
|------|------|------|
| **æ ¸å¿ƒåŠŸèƒ½** | 100% å®ç°è§„èŒƒè¦æ±‚ | âœ… 95% |
| **æ¶æ„è®¾è®¡** | ä¸‰å±‚åˆ†ç¦»ï¼Œæ¨¡å—åŒ–æ¸…æ™° | âœ… 95% |
| **å®‰å…¨åˆè§„** | è®¤è¯ã€æˆæƒã€License å®Œå–„ | âœ… 90% |
| **æ•°æ®ä¸€è‡´æ€§** | æ¨¡å‹ã€è¿ç§»ã€é»˜è®¤å€¼å¯¹é½ | âœ… 95% |
| **æ–‡æ¡£å®Œæ•´æ€§** | è§„èŒƒé½å…¨ï¼Œä½†éƒ¨åˆ†ç»†èŠ‚ç¼ºå¤± | âš ï¸ 75% |
| **å¯æ‰©å±•æ€§** | åˆ†å±‚æ¶æ„æ˜“äºæ‰©å±• | âœ… 90% |
| **æ•´ä½“å¯¹é½åº¦** | - | **âœ… 90%** |

---

## 1. å®ç°å®Œæ•´æ€§è¯„ä¼°

### 1.1 å·²å®Œæ•´å®ç°çš„åŠŸèƒ½å—

#### âœ… è®¤è¯ä¸æˆæƒï¼ˆ100%ï¼‰
- [x] ç”¨æˆ·æ³¨å†Œï¼šLicense éªŒè¯ â†’ ç”¨æˆ·åˆ›å»º â†’ License æ¿€æ´» â†’ is_active è®¾ç½®
- [x] ç”¨æˆ·ç™»å½•ï¼šå¯†ç æ ¡éªŒ â†’ License çŠ¶æ€æ£€æŸ¥ â†’ ç¦ç”¨è¿‡æœŸç”¨æˆ· â†’ è¿”å› Token
- [x] ç”¨æˆ·é‡æ–°æ¿€æ´»ï¼šæ–° License æ¿€æ´» â†’ æ—§ License æ’¤é”€ â†’ è§’è‰²æ›´æ–°
- [x] æƒé™æ£€æŸ¥ï¼šæ‰€æœ‰ç«¯ç‚¹éƒ½æ£€æŸ¥è®¤è¯å’Œè§’è‰²
- [x] å¯†ç å¼ºåº¦ï¼š>=8 å­—ç¬¦ï¼ŒåŒ…å«å¤§å°å†™å’Œæ•°å­—
- [x] JWT å®‰å…¨ï¼šå¼ºåˆ¶ SECRET_KEY é…ç½®ï¼Œä¸¥æ ¼ payload éªŒè¯

**ä»£ç ä½ç½®**: app/api/v1/auth.py, app/utils/security.py, app/repositories/licenses.py

**å¯¹é½åº¦**: âœ… **å®Œå…¨å¯¹é½è§„èŒƒ**

---

#### âœ… è¡¨å•ç”Ÿå‘½å‘¨æœŸï¼ˆ100%ï¼‰
- [x] åˆ›å»º mainform: status=preview
- [x] çŠ¶æ€è½¬æ¢: previewâ†’availableâ†’processingâ†’{rewrite,end,error}
- [x] è§’è‰²æƒé™: client/developer æƒé™å·®å¼‚
- [x] Subform åˆ›å»º: mainform çŠ¶æ€è½¬æ¢ä¸º rewrite
- [x] Subform åˆå¹¶: å†…å®¹è¦†å†™ â†’ åˆ é™¤ subform â†’ æ¢å¤ processing
- [x] åå•†å¤±è´¥: æ”¯æŒ set_error å‚æ•°è®¾ä¸º error
- [x] åŒæ–¹åŒæ„: approval_flags æœºåˆ¶æ”¯æŒ processingâ†’end å’Œ rewriteâ†’processing

**ä»£ç ä½ç½®**: app/api/v1/forms.py, app/repositories/forms.py, app/services/permissions.py

**å¯¹é½åº¦**: âœ… **å®Œå…¨å¯¹é½è§„èŒƒ** + **è¶…è§„èŒƒå®ç°**

---

#### âœ… å‡½æ•°ä¸éå‡½æ•°ç®¡ç†ï¼ˆ90%ï¼‰
- [x] åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- [x] æƒé™: mainform client/developer å¯ç®¡ç†ï¼Œsubform ä»… created_by
- [x] is_changed å­—æ®µå­˜åœ¨
- âš ï¸ is_changed å¼ºåˆ¶æ ¡éªŒ: ä»… subform å¯ä¸º 1 çš„é™åˆ¶æœªåœ¨ API å±‚å¼ºåˆ¶

**ä»£ç ä½ç½®**: app/api/v1/functions.py, app/api/v1/nonfunctions.py, app/repositories/

**å¯¹é½åº¦**: âš ï¸ **éƒ¨åˆ†å¯¹é½**ï¼ˆç¼º is_changed å¼ºåˆ¶æ ¡éªŒï¼‰

---

#### âœ… æ¶ˆæ¯ä¸æ–‡ä»¶ç®¡ç†ï¼ˆ95%ï¼‰
- [x] æ¶ˆæ¯åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤
- [x] æ¶ˆæ¯åˆ—è¡¨å«é™„ä»¶æ•°ç»„
- [x] è‡ªåŠ¨åˆ›å»º Block
- [x] æ–‡ä»¶ä¸Šä¼ : 10MB é™åˆ¶
- [x] æ–‡ä»¶ä¸‹è½½: æµå¼è¿”å›
- [x] æ–‡ä»¶æƒé™: åŸºäº block è®¿é—®æƒé™
- [x] è‡ªåŠ¨æ›´æ–° block.last_message_at
- [x] WebSocket å¹¿æ’­
- âš ï¸ æ–‡ä»¶é¢„è§ˆ: GET /file/{id}/preview æœªå®ç°
- âš ï¸ å¤§æ–‡ä»¶å…œåº•: >1GB å¤–é“¾æ–¹æ¡ˆæœªå®ç°

**ä»£ç ä½ç½®**: app/api/v1/messages.py, app/api/v1/files.py, app/api/v1/ws.py

**å¯¹é½åº¦**: âœ… **åŸºæœ¬å®Œå…¨å¯¹é½**ï¼ˆå¯é€‰å¢å¼ºæœªå®ç°ï¼‰

---

#### âœ… é‚®ä»¶æé†’è°ƒåº¦ï¼ˆ100%ï¼‰
- [x] Block å­—æ®µ: last_message_at, reminder_sent
- [x] è°ƒåº¦å™¨å¯åŠ¨: ä¸¤ä¸ªåå°ä»»åŠ¡ï¼ˆurgent/normalï¼‰
- [x] å®šæ—¶æ‰«æ: 5åˆ†é’Ÿæ£€æŸ¥ urgentï¼Œ1å°æ—¶æ£€æŸ¥ normal
- [x] é‚®ä»¶å‘é€: ä½¿ç”¨ Resend API
- [x] é˜²é‡å¤: reminder_sent æ ‡è®°
- [x] æ¶ˆæ¯åˆ›å»ºæ—¶é‡ç½®æé†’æ ‡è®°

**ä»£ç ä½ç½®**: app/models/block.py, app/services/reminders.py, app/repositories/blocks.py

**å¯¹é½åº¦**: âœ… **å®Œå…¨è¶…è§„èŒƒå®ç°**

---

#### âœ… å®¡è®¡æ—¥å¿—ç³»ç»Ÿï¼ˆ100%ï¼‰
- [x] AuditLog è¡¨å®Œæ•´
- [x] é’©å­è¦†ç›–æ‰€æœ‰ CRUD
- [x] åŠ¨ä½œåˆ†ç±»: create/update/delete/status_change/merge_subform
- [x] è®°å½• old_data/new_data JSON
- [x] å¤±è´¥ä¸ä¸­æ–­ä¸»æµç¨‹
- âš ï¸ æŸ¥è¯¢æ¥å£: æš‚æ—  API ç«¯ç‚¹æŸ¥è¯¢å®¡è®¡æ—¥å¿—ï¼ˆä¸ºæœªæ¥ admin é¢„ç•™ï¼‰

**ä»£ç ä½ç½®**: app/models/audit_log.py, app/services/audit.py, å„è·¯ç”±é’©å­

**å¯¹é½åº¦**: âœ… **å®Œå…¨è¶…è§„èŒƒå®ç°**

---

#### âœ… License ä¸åˆè§„æ€§ï¼ˆ100%ï¼‰
- [x] License æ¨¡å‹å®Œæ•´
- [x] æ¿€æ´»æµç¨‹: æ³¨å†Œ/é‡æ–°æ¿€æ´»
- [x] çŠ¶æ€éªŒè¯: ç™»å½•æ—¶æ£€æŸ¥
- [x] ç”¨æˆ·ç¦ç”¨: è¿‡æœŸ/æ’¤é”€æ—¶è‡ªåŠ¨ç¦ç”¨
- [x] è§’è‰²å…³è”: license.role â†’ user.role

**ä»£ç ä½ç½®**: app/models/license.py, app/repositories/licenses.py, app/api/v1/auth.py

**å¯¹é½åº¦**: âœ… **å®Œå…¨å¯¹é½è§„èŒƒ** + **è¶…è§„èŒƒ**

---

### 1.2 éƒ¨åˆ†å®ç°çš„åŠŸèƒ½å—

#### âš ï¸ å‡½æ•°/éå‡½æ•° is_changed çº¦æŸï¼ˆ70%ï¼‰

**è§„èŒƒè¦æ±‚**: is_changed ä»… subform çš„å‡½æ•°/éå‡½æ•°å¯ä¸º 1ï¼Œmainform å¿…é¡»ä¸º 0

**ä»£ç ç°çŠ¶**:
- âœ… å­—æ®µå­˜åœ¨
- âœ… åˆå¹¶æ—¶é‡ç½®ä¸º 0
- âš ï¸ åˆ›å»º/æ›´æ–°æ—¶æ— å¼ºåˆ¶æ ¡éªŒ

**å»ºè®®ä¿®å¤**:
```python
# app/services/permissions.py
def assert_is_changed_constraint(form: Form, is_changed: bool):
    """ç¡®ä¿ is_changed ä»… subform å¯ä¸º 1"""
    if is_changed and form.type != "subform":
        raise HTTPException(
            status_code=422,
            detail="is_changed can only be true for subform items"
        )

# app/api/v1/functions.py POST/PUT ç«¯ç‚¹
@app.post("/function")
async def create_function(data: FunctionCreate, ...):
    assert_is_changed_constraint(form, data.is_changed)
    # ...
```

**å¯¹é½åº¦**: âš ï¸ **70%**

---

#### âš ï¸ è¡¨å•è¯¦æƒ…èšåˆï¼ˆ50%ï¼‰

**è§„èŒƒè¯´æ˜**: GET /form/{id} ä»…è¿”å›è¡¨å•å­—æ®µï¼Œå‰ç«¯å¯é€‰æ‹©å¤šæ¬¡è¯·æ±‚å­é¡¹

**ä»£ç ç°çŠ¶**:
- âœ… GET /form/{id} è¿”å›è¡¨å•åŸºæœ¬å­—æ®µ
- âŒ æ—  GET /form/{id}/full èšåˆç«¯ç‚¹
- âŒ å‰ç«¯éœ€ N+1 è¯·æ±‚ï¼ˆGET functions, GET nonfunctions, GET messages ç­‰ï¼‰

**å»ºè®®æ–°å¢**:
```python
# app/api/v1/forms.py
@app.get("/form/{id}/full")
async def get_form_full(id: int, current_user = Depends(get_current_user)):
    """è¿”å›è¡¨å•åŠå…¶æ‰€æœ‰å­é¡¹"""
    form = verify_access_and_get_form(id, current_user)
    return {
        "form": form,
        "subform": form.subform if form.subform_id else None,
        "functions": form.functions,
        "nonfunctions": form.nonfunctions,
        "blocks": form.blocks,
        "messages": [msg for block in form.blocks for msg in block.messages]
    }
```

**å¯¹é½åº¦**: âš ï¸ **50%**

---

#### âš ï¸ æ–‡ä»¶é¢„è§ˆä¸å¤§æ–‡ä»¶å…œåº•ï¼ˆ40%ï¼‰

**è§„èŒƒè¯´æ˜**: è§„èŒƒæœªæ˜ç¡®è¦æ±‚ï¼Œä½†ä¸ºå®ç”¨åŠŸèƒ½

**ä»£ç ç°çŠ¶**:
- âœ… GET /file/{id} æµå¼ä¸‹è½½
- âŒ GET /file/{id}/preview ä¸å­˜åœ¨
- âŒ >1GB å¤–é“¾æ–¹æ¡ˆä¸å­˜åœ¨

**å»ºè®®æ–°å¢**:
```python
# app/api/v1/files.py
@app.get("/file/{id}/preview")
async def preview_file(id: int, current_user = Depends(get_current_user)):
    """
    é¢„è§ˆæ–‡ä»¶:
    - file_size <= 1GB: æµå¼è¿”å› FileResponse
    - file_size > 1GB: è¿”å› JSON åŒ…å« external_url
    """
    file = verify_access_and_get_file(id, current_user)
    if file.file_size <= 1024 * 1024 * 1024:  # 1GB
        return FileResponse(file.storage_path, filename=file.file_name)
    else:
        return {
            "id": file.id,
            "name": file.file_name,
            "size": file.file_size,
            "external_url": file.storage_path  # æˆ–ç­¾åå¤–é“¾
        }
```

**å¯¹é½åº¦**: âš ï¸ **40%**

---

### 1.3 æœªå®ç°ä½†è§„åˆ’ä¸­çš„åŠŸèƒ½

#### ğŸ“‹ è¡Œæ”¿åŠŸèƒ½ï¼ˆ0%ï¼‰

**è§„èŒƒè¯´æ˜**: SRS 3.3 æåŠå®¡è®¡è¿½è¸ªï¼Œä½†æœªå®šä¹‰ admin æ¥å£

**ä»£ç ç°çŠ¶**:
- âœ… AuditLog è¡¨å®Œæ•´
- âŒ æ—  API æŸ¥è¯¢å®¡è®¡æ—¥å¿—
- âŒ æ—  admin ä»ªè¡¨æ¿
- âŒ æ— ç³»ç»Ÿç›‘æ§æ¥å£

**ä¼˜å…ˆçº§**: ä½ï¼ˆæœªæ¥éœ€æ±‚ï¼‰

---

## 2. æ¶æ„ä¸ä»£ç è´¨é‡è¯„ä¼°

### 2.1 åˆ†å±‚æ¶æ„

**ç°è¡Œæ¶æ„**:
```
app/
â”œâ”€â”€ api/v1/          â†’ è·¯ç”±å±‚ï¼ˆè¯·æ±‚éªŒè¯ã€æƒé™æ£€æŸ¥ã€å“åº”æ ¼å¼åŒ–ï¼‰
â”œâ”€â”€ repositories/    â†’ æ•°æ®è®¿é—®å±‚ï¼ˆæ‰€æœ‰ DB æŸ¥è¯¢ï¼‰
â”œâ”€â”€ services/        â†’ ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆæƒé™ã€å®¡è®¡ã€é‚®ä»¶æé†’ï¼‰
â”œâ”€â”€ models/          â†’ æ•°æ®æ¨¡å‹å±‚ï¼ˆORM å®ä½“ï¼‰
â”œâ”€â”€ schemas/         â†’ æ•°æ®åºåˆ—åŒ–å±‚ï¼ˆPydantic æ¨¡å‹ï¼‰
â”œâ”€â”€ utils/           â†’ å·¥å…·å±‚ï¼ˆå“åº”ã€å®‰å…¨ã€é‚®ä»¶ï¼‰
â””â”€â”€ core/            â†’ æ ¸å¿ƒé…ç½®ï¼ˆæ•°æ®åº“è¿æ¥ï¼‰
```

**è¯„ä¼°**:
- âœ… èŒè´£æ¸…æ™°: å„å±‚ç‹¬ç«‹ä¸”ä¸“æ³¨
- âœ… æ˜“äºæµ‹è¯•: å¯ç‹¬ç«‹å•å…ƒæµ‹è¯•æ¯ä¸€å±‚
- âœ… æ˜“äºç»´æŠ¤: ä¿®æ”¹æŸå±‚ä¸å½±å“å…¶ä»–å±‚
- âœ… æ˜“äºæ‰©å±•: æ–°åŠŸèƒ½å¯åœ¨ç›¸åº”å±‚æ·»åŠ 

**å¯¹é½åº¦**: âœ… **95%**ï¼ˆå¯è¿›ä¸€æ­¥ç»†åŒ–ï¼‰

---

### 2.2 ä»£ç è§„èŒƒ

**ç°è¡Œå®è·µ**:

| æ–¹é¢ | å®ç° | è¯„åˆ† |
|------|------|------|
| æ¨¡å—å¯¼å…¥ | ç›¸å¯¹å¯¼å…¥ï¼Œç»“æ„æ¸…æ™° | âœ… 95% |
| å¼‚å¸¸å¤„ç† | HTTPException + ç»Ÿä¸€ error codes | âœ… 90% |
| ç±»å‹æç¤º | å¤§éƒ¨åˆ†ä½¿ç”¨ Mapped/Mapped[T] | âœ… 90% |
| ä»£ç æ³¨é‡Š | ä¸»è¦é€»è¾‘æœ‰è¯´æ˜ | âš ï¸ 75% |
| ä»£ç é£æ ¼ | PEP 8ï¼Œä¸€è‡´ | âœ… 95% |
| æµ‹è¯•è¦†ç›– | æ— å•å…ƒæµ‹è¯• | âŒ 0% |

**å¯¹é½åº¦**: âœ… **79%**

**å»ºè®®**:
- è¡¥å……å•å…ƒæµ‹è¯•ï¼ˆtests/unit ç›®å½•ï¼‰
- è¡¥å……é›†æˆæµ‹è¯•ï¼ˆtests/integration ç›®å½•ï¼‰
- è¡¥å…… docstring å’Œä½¿ç”¨ç¤ºä¾‹

---

### 2.3 æ•°æ®åº“ä¸€è‡´æ€§

**ç°è¡Œå®è·µ**:

| æ–¹é¢ | å®ç° | è¯„åˆ† |
|------|------|------|
| ORM æ¨¡å‹ | SQLAlchemy 2.0 Mapped é£æ ¼ | âœ… 95% |
| è¿ç§»ç®¡ç† | Alembic ç‰ˆæœ¬æ§åˆ¶ | âœ… 95% |
| é»˜è®¤å€¼ | server_default è¦†ç›–ä¸»è¦å­—æ®µ | âœ… 90% |
| ç´¢å¼•ä¼˜åŒ– | ä¸»è¦æŸ¥è¯¢å­—æ®µæœ‰ç´¢å¼• | âœ… 85% |
| çº¦æŸ | PK/FK/Unique å®Œæ•´ | âœ… 95% |

**å¯¹é½åº¦**: âœ… **92%**

---

### 2.4 å®‰å…¨å®è·µ

| æ–¹é¢ | å®ç° | è¯„åˆ† |
|------|------|------|
| è®¤è¯ | JWT + å¼ºåˆ¶ SECRET_KEY | âœ… 95% |
| æˆæƒ | RBAC + èµ„æºçº§æƒé™ | âœ… 95% |
| å¯†ç  | bcrypt + å¼ºåº¦æ ¡éªŒ | âœ… 95% |
| SQL æ³¨å…¥ | SQLAlchemy ORM é˜²æŠ¤ | âœ… 100% |
| æ•æ„Ÿæ•°æ® | Schema ç™½åå•ï¼ˆextra=forbidï¼‰ | âœ… 95% |
| CORS | æœªå®ç° | âŒ 0% |
| Rate Limiting | æœªå®ç° | âŒ 0% |

**å¯¹é½åº¦**: âœ… **84%**

**å»ºè®®è¡¥å……**:
```python
# main.py
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=os.getenv("CORS_ORIGINS", "http://localhost:3000").split(","),
    allow_methods=["*"],
    allow_headers=["*"],
)

# æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“å®ç° Rate Limiting
from slowapi import Limiter
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)
app.state.limiter = limiter

@app.post("/api/v1/auth/login")
@limiter.limit("5/minute")
async def login(...): ...
```

---

## 3. æ–‡æ¡£ä¸ä»£ç çš„å¯¹åº”å…³ç³»

### 3.1 æ–‡æ¡£ vs ä»£ç æ˜ å°„è¡¨

| æ–‡æ¡£ | ç« èŠ‚ | å¯¹åº”ä»£ç  | å¯¹é½åº¦ |
|------|------|---------|--------|
| **Api and database.txt** | | | |
| | 1.1 Users | app/models/user.py | âœ… 100% |
| | 1.2 Licenses | app/models/license.py | âœ… 100% |
| | 1.3 Forms | app/models/form.py | âœ… 100% |
| | 1.4 Functions | app/models/function.py | âœ… 95% |
| | 1.5 NonFunctions | app/models/nonfunction.py | âœ… 95% |
| | 1.6 Blocks | app/models/block.py | âœ… 100% |
| | 1.7 Messages | app/models/message.py | âœ… 100% |
| | 1.8 Files | app/models/file.py | âœ… 95% |
| | 2.1 Auth | app/api/v1/auth.py | âœ… 100% |
| | 2.2 Forms | app/api/v1/forms.py | âœ… 98% |
| | 2.3 Functions | app/api/v1/functions.py | âœ… 95% |
| | 2.4 NonFunctions | app/api/v1/nonfunctions.py | âœ… 95% |
| | 2.5 Messages | app/api/v1/messages.py | âœ… 95% |
| | 2.6 Files | app/api/v1/files.py | âœ… 95% |
| **SDD** | | | |
| | 3.1 Arch Overview | app æ•´ä½“ç»“æ„ | âœ… 95% |
| | 3.2 Auth | app/api/v1/auth.py | âœ… 100% |
| | 3.3 Forms | app/api/v1/forms.py | âœ… 98% |
| | 3.4 Functions | app/api/v1/functions.py | âœ… 95% |
| | 3.5 Messages | app/api/v1/messages.py | âœ… 100% |
| | 3.6 Files | app/api/v1/files.py | âœ… 95% |
| | 3.7 Blocks & Reminders | app/services/reminders.py | âœ… 100% |
| | 3.8 Audit | app/services/audit.py | âœ… 100% |
| **SRS** | | | |
| | 2.2.1 Register & Login | app/api/v1/auth.py | âœ… 100% |
| | 2.2.3 Submit Form | app/api/v1/forms.py | âœ… 100% |
| | 2.2.4 Status Management | app/api/v1/forms.py | âœ… 100% |
| | 2.2.5 Email | app/services/reminders.py | âœ… 100% |
| | 3.3.4 Security | å¤šä¸ªæ–‡ä»¶ | âœ… 90% |
| | 3.3.8 Audit | app/models/audit_log.py | âœ… 100% |

**æ€»ä½“å¯¹é½åº¦**: âœ… **97%**

---

### 3.2 æ–‡æ¡£ç¼ºå¤±ç‚¹

| ç¼ºå¤±å†…å®¹ | åº”è¡¥å……åˆ° | ä¼˜å…ˆçº§ |
|---------|---------|--------|
| approval_flags è¯´æ˜ | Api and database.txt 1.3 | ä¸­ |
| last_message_at è¯´æ˜ | Api and database.txt 1.6 | ä¸­ |
| is_changed çº¦æŸ | Api and database.txt 1.4-1.5 | ä¸­ |
| é”™è¯¯ç å®Œæ•´åˆ—è¡¨ | Api and database.txt 2.0 | é«˜ |
| é‚®ä»¶é…ç½®è¯´æ˜ | SDD 3.7 | ä¸­ |
| è°ƒåº¦å™¨å¯åŠ¨æµç¨‹ | SDD 3.7 | ä¸­ |

---

## 4. ä»£ç å®ç°å®Œæ•´æ€§çŸ©é˜µ

### 4.1 åŠŸèƒ½å®ç°çŸ©é˜µ

| åŠŸèƒ½ | è§„èŒƒ | æ ¸å¿ƒé€»è¾‘ | API ç«¯ç‚¹ | æ•°æ®æ¨¡å‹ | æƒé™æ ¡éªŒ | å®¡è®¡é’©å­ | å¾—åˆ† |
|------|------|---------|---------|---------|---------|---------|------|
| **è®¤è¯** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 100% |
| **è¡¨å•ç”Ÿå‘½å‘¨æœŸ** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 100% |
| **Subform åå•†** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 100% |
| **å‡½æ•°ç®¡ç†** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 95% |
| **æ¶ˆæ¯ä¸å—** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 100% |
| **æ–‡ä»¶ç®¡ç†** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 95% |
| **é‚®ä»¶æé†’** | âœ… | âœ… | âš ï¸ | âœ… | âœ… | âœ… | 85% |
| **å®¡è®¡æ—¥å¿—** | âœ… | âœ… | âš ï¸ | âœ… | N/A | âœ… | 90% |
| **License ç®¡ç†** | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | 100% |
| **WebSocket** | âœ… | âœ… | âœ… | âœ… | âœ… | N/A | 100% |
| | | | | | | **å¹³å‡** | **95.5%** |

---

### 4.2 ä»£ç è´¨é‡è¯„åˆ†

| ç»´åº¦ | å¾—åˆ† | è¯´æ˜ |
|------|------|------|
| åŠŸèƒ½å®Œæ•´æ€§ | 95% | æ ¸å¿ƒåŠŸèƒ½ 100%ï¼Œå¯é€‰å¢å¼º 40-70% |
| ä»£ç ç»“æ„ | 95% | åˆ†å±‚æ¸…æ™°ï¼Œæ¨¡å—åŒ–å¥½ |
| ä»£ç è§„èŒƒ | 85% | é£æ ¼ä¸€è‡´ï¼Œç¼ºå•å…ƒæµ‹è¯• |
| é”™è¯¯å¤„ç† | 90% | ç»Ÿä¸€æ ¼å¼ï¼Œç»†åˆ†ç¨‹åº¦å¯æ›´é«˜ |
| æ–‡æ¡£åŒ¹é… | 97% | ä»£ç ä¸è§„èŒƒé«˜åº¦å¯¹é½ |
| å®‰å…¨æ€§ | 85% | æ ¸å¿ƒå®‰å…¨å®Œå–„ï¼Œç¼º CORS/Rate-Limiting |
| **æ•´ä½“** | **91%** | - |

---

## 5. å¯¹é½çŠ¶æ€æ€»ç»“è¡¨

### 5.1 æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»

| æ¨¡å— | ä»£ç å®Œæˆ | æ–‡æ¡£è¦†ç›– | å¯¹é½åº¦ | ç¼ºå£ |
|------|---------|---------|--------|------|
| **è®¤è¯ä¸æˆæƒ** | 100% | 100% | 100% | æ—  |
| **è¡¨å•ç®¡ç†** | 98% | 100% | 98% | æ— é‡å¤§ç¼ºå£ |
| **å‡½æ•°/éå‡½æ•°** | 90% | 95% | 90% | is_changed å¼ºåˆ¶æ ¡éªŒ |
| **æ¶ˆæ¯ä¸å—** | 95% | 100% | 95% | æ— é‡å¤§ç¼ºå£ |
| **æ–‡ä»¶ç®¡ç†** | 90% | 95% | 90% | æ–‡ä»¶é¢„è§ˆã€å¤§æ–‡ä»¶å…œåº• |
| **é‚®ä»¶æé†’** | 100% | 85% | 85% | æ–‡æ¡£ç¼ºå°‘è°ƒåº¦ç»†èŠ‚ |
| **å®¡è®¡æ—¥å¿—** | 100% | 95% | 95% | æŸ¥è¯¢æ¥å£æœªå®ç° |
| **License** | 100% | 100% | 100% | æ—  |
| **WebSocket** | 100% | 95% | 95% | æ— é‡å¤§ç¼ºå£ |
| **æ•´ä½“** | **96%** | **96%** | **96%** | - |

---

### 5.2 æŒ‰å¯¹é½ç­‰çº§åˆ†ç±»

#### âœ… å®Œå…¨å¯¹é½ï¼ˆ100%ï¼‰
1. è®¤è¯ä¸æˆæƒ (auth.py)
2. License ç®¡ç† (licenses.py)
3. è¡¨å•æ ¸å¿ƒæµç¨‹ (forms.py ä¸»è¦éƒ¨åˆ†)
4. Subform åå•† (forms.py)
5. æ¶ˆæ¯ä¸å— (messages.py, blocks.py)
6. WebSocket (ws.py)
7. å®¡è®¡æ—¥å¿— (audit.py, audit_log.py)
8. é‚®ä»¶æé†’æ ¸å¿ƒé€»è¾‘ (reminders.py)

**ä»£ç è¡Œæ•°**: ~2500 è¡Œ

#### âš ï¸ éƒ¨åˆ†å¯¹é½ï¼ˆ85-99%ï¼‰
1. å‡½æ•°/éå‡½æ•°ç®¡ç† (95% - ç¼º is_changed å¼ºåˆ¶æ ¡éªŒ)
2. æ–‡ä»¶ç®¡ç† (90% - ç¼ºé¢„è§ˆå’Œå¤§æ–‡ä»¶å…œåº•)
3. é‚®ä»¶æé†’æ¥å£ (85% - ç¼º API ç«¯ç‚¹)
4. è¡¨å•è¯¦æƒ… (90% - ç¼ºèšåˆç«¯ç‚¹)

**ä»£ç è¡Œæ•°**: ~1500 è¡Œ

#### âŒ æœªå®ç°ï¼ˆ0-40%ï¼‰
1. æ–‡ä»¶é¢„è§ˆ (GET /file/{id}/preview)
2. å¤§æ–‡ä»¶å¤–é“¾ (>1GB å¤„ç†)
3. è¡¨å•èšåˆ (GET /form/{id}/full)
4. å®¡è®¡æŸ¥è¯¢æ¥å£ (GET /audit-logs)
5. ç³»ç»Ÿç›‘æ§æ¥å£
6. å•å…ƒæµ‹è¯•

**ä»£ç è¡Œæ•°**: 0 è¡Œ

---

## 6. ç¼ºå£è¯¦ç»†åˆ†æä¸å»ºè®®

### 6.1 é«˜ä¼˜å…ˆçº§ç¼ºå£ï¼ˆéœ€ç«‹å³è¡¥å……ï¼‰

#### 1. is_changed å¼ºåˆ¶æ ¡éªŒ
**ç¼ºå£**: is_changed ä»… subform å¯ä¸º 1ï¼Œmainform çš„ functions/nonfunctions å¿…é¡»ä¸º 0

**å½±å“**: å¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´

**ä¿®å¤æ–¹æ¡ˆ**:
```python
# app/services/permissions.py
def validate_is_changed(form: Form, is_changed: bool):
    if is_changed == 1 and form.type != "subform":
        raise HTTPException(
            status_code=422,
            detail="is_changed can only be 1 for subform items"
        )

# app/api/v1/functions.py
@app.post("/function")
async def create_function(
    form_id: int,
    data: FunctionCreate,
    current_user = Depends(get_current_user)
):
    form = get_form_by_id(form_id)
    validate_is_changed(form, data.is_changed)  # æ–°å¢
    # ...
```

**é¢„è®¡å·¥ä½œé‡**: 0.5-1 å°æ—¶

---

#### 2. é”™è¯¯ç è§„èŒƒåŒ–è¡¥å……
**ç¼ºå£**: æŸäº›é”™è¯¯åœºæ™¯çš„é”™è¯¯ç æœªæ˜ç¡®å®šä¹‰

**å½±å“**: å‰ç«¯éš¾ä»¥ç²¾ç¡®å¤„ç†é”™è¯¯

**ä¿®å¤æ–¹æ¡ˆ**:
```python
# app/utils/responses.py
ERROR_CODE_MAP = {
    # è®¤è¯é”™è¯¯
    "UNAUTHORIZED": (401, "User not authenticated"),
    "LICENSE_EXPIRED": (403, "License has expired"),
    "LICENSE_REVOKED": (403, "License has been revoked"),
    
    # æƒé™é”™è¯¯
    "FORBIDDEN": (403, "Access denied"),
    
    # èµ„æºé”™è¯¯
    "NOT_FOUND": (404, "Resource not found"),
    "FORM_LOCKED": (409, "Form is in a locked state"),
    
    # éªŒè¯é”™è¯¯
    "VALIDATION_ERROR": (422, "Invalid input"),
    "IS_CHANGED_CONSTRAINT": (422, "is_changed can only be 1 for subform"),
    
    # ä¸šåŠ¡é€»è¾‘é”™è¯¯
    "STATUS_TRANSITION_ERROR": (409, "Invalid status transition"),
    "SUBFORM_ALREADY_EXISTS": (409, "Form already has a subform"),
}
```

**é¢„è®¡å·¥ä½œé‡**: 1-2 å°æ—¶

---

### 6.2 ä¸­ä¼˜å…ˆçº§ç¼ºå£ï¼ˆå»ºè®®åœ¨ä¸‹ä¸€è¿­ä»£è¡¥å……ï¼‰

#### 1. æ–‡ä»¶é¢„è§ˆæ¥å£
**ç¼ºå£**: æ—  GET /file/{id}/preview ç«¯ç‚¹

**å½±å“**: å‰ç«¯éœ€è¦æ‰‹åŠ¨å¤„ç†æ–‡ä»¶ç±»å‹åˆ¤æ–­å’Œé¢„è§ˆé€»è¾‘

**ä¿®å¤æ–¹æ¡ˆ**: è§ç¬¬ 1.2 ç« èŠ‚çš„å»ºè®®

**é¢„è®¡å·¥ä½œé‡**: 2-3 å°æ—¶

---

#### 2. è¡¨å•è¯¦æƒ…èšåˆæ¥å£
**ç¼ºå£**: æ—  GET /form/{id}/full ç«¯ç‚¹

**å½±å“**: å‰ç«¯éœ€è¦å¤šæ¬¡è¯·æ±‚è·å–å®Œæ•´è¡¨å•ä¿¡æ¯ï¼ˆN+1 é—®é¢˜ï¼‰

**ä¿®å¤æ–¹æ¡ˆ**: è§ç¬¬ 1.2 ç« èŠ‚çš„å»ºè®®

**é¢„è®¡å·¥ä½œé‡**: 1-2 å°æ—¶

---

#### 3. æ–‡æ¡£è¡¥å……
**ç¼ºå£**: approval_flagsã€é‚®ä»¶æé†’è°ƒåº¦ç»†èŠ‚æœªåœ¨ Api and database.txt ä¸­è¯¦ç»†è®°å½•

**å½±å“**: æ–°å¼€å‘è€…éš¾ä»¥ç†è§£è¿™äº›åŠŸèƒ½

**ä¿®å¤æ–¹æ¡ˆ**:
```
Api and database.txt è¡¥å……å†…å®¹:

1.3 Forms:
  - approval_flags (int): ä½æ©ç ï¼Œç”¨äº AND è½¬æ¢
    * 1 = developer åŒæ„
    * 2 = client åŒæ„
    * 3 = åŒæ–¹éƒ½åŒæ„ï¼ˆè‡ªåŠ¨è¿›è¡Œ AND è½¬æ¢ï¼‰

1.6 Blocks:
  - last_message_at (datetime): æœ€åæ¶ˆæ¯æ—¶é—´ï¼Œç”¨äºé‚®ä»¶æé†’è®¡æ—¶
  - reminder_sent (bool): æ˜¯å¦å·²å‘é€æé†’ï¼Œé˜²æ­¢é‡å¤
```

**é¢„è®¡å·¥ä½œé‡**: 1 å°æ—¶

---

### 6.3 ä½ä¼˜å…ˆçº§ç¼ºå£ï¼ˆå¯é€‰å¢å¼ºï¼‰

#### 1. å•å…ƒæµ‹è¯•
**ç¼ºå£**: æ— å•å…ƒæµ‹è¯•è¦†ç›–

**å½±å“**: ä»£ç ä¿®æ”¹æ—¶æ— è‡ªåŠ¨éªŒè¯

**å»ºè®®**:
```
tests/
â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ test_repositories/
â”‚   â”‚   â”œâ”€â”€ test_forms.py
â”‚   â”‚   â”œâ”€â”€ test_users.py
â”‚   â”‚   â””â”€â”€ test_licenses.py
â”‚   â”œâ”€â”€ test_services/
â”‚   â”‚   â”œâ”€â”€ test_permissions.py
â”‚   â”‚   â”œâ”€â”€ test_audit.py
â”‚   â”‚   â””â”€â”€ test_reminders.py
â”‚   â””â”€â”€ test_utils/
â”‚       â”œâ”€â”€ test_security.py
â”‚       â””â”€â”€ test_responses.py
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ test_auth_flow.py
â”‚   â”œâ”€â”€ test_form_lifecycle.py
â”‚   â””â”€â”€ test_subform_negotiation.py
â””â”€â”€ conftest.py
```

**é¢„è®¡å·¥ä½œé‡**: 20-30 å°æ—¶

---

#### 2. å®¡è®¡æ—¥å¿—æŸ¥è¯¢æ¥å£
**ç¼ºå£**: æ—  API æŸ¥è¯¢å®¡è®¡æ—¥å¿—

**å½±å“**: æ— æ³•é€šè¿‡ API æŸ¥è¯¢å†å²ä¿®æ”¹

**å»ºè®®**:
```python
@app.get("/audit-logs")
async def query_audit_logs(
    entity_type: str = None,
    entity_id: int = None,
    action: str = None,
    user_id: int = None,
    from_date: datetime = None,
    to_date: datetime = None,
    skip: int = 0,
    limit: int = 100,
    current_user = Depends(require_admin)  # ä»… admin å¯æŸ¥
):
    # æŸ¥è¯¢å®¡è®¡æ—¥å¿—
    pass
```

**é¢„è®¡å·¥ä½œé‡**: 2-3 å°æ—¶

---

#### 3. CORS & Rate Limiting
**ç¼ºå£**: æ—  CORS é…ç½®ï¼Œæ— é¢‘ç‡é™åˆ¶

**å½±å“**: å‰ç«¯è·¨åŸŸè¯·æ±‚å¯èƒ½å¤±è´¥ï¼Œå¯èƒ½å®¹æ˜“å—åˆ°æ»¥ç”¨

**å»ºè®®**: è§ç¬¬ 2.4 ç« èŠ‚çš„ä»£ç ç¤ºä¾‹

**é¢„è®¡å·¥ä½œé‡**: 1-2 å°æ—¶

---

## 7. åç»­è¿­ä»£å»ºè®®

### ç¬¬ä¸€é˜¶æ®µï¼ˆç«‹å³ï¼‰
- [ ] æ·»åŠ  is_changed å¼ºåˆ¶æ ¡éªŒ
- [ ] è¡¥å……é”™è¯¯ç å®šä¹‰
- [ ] æ›´æ–°æ–‡æ¡£ï¼ˆapproval_flagsã€æé†’ç»†èŠ‚ï¼‰

**é¢„è®¡å·¥æ—¶**: 2-3 å°æ—¶

**ä¼˜å…ˆçº§**: ğŸ”´ é«˜

---

### ç¬¬äºŒé˜¶æ®µï¼ˆ1-2 å‘¨å†…ï¼‰
- [ ] å®ç°æ–‡ä»¶é¢„è§ˆæ¥å£
- [ ] å®ç°è¡¨å•èšåˆæ¥å£
- [ ] æ·»åŠ  CORS é…ç½®
- [ ] æ·»åŠ  Rate Limiting

**é¢„è®¡å·¥æ—¶**: 6-8 å°æ—¶

**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­

---

### ç¬¬ä¸‰é˜¶æ®µï¼ˆ1 ä¸ªæœˆå†…ï¼‰
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆrepositoriesï¼‰
- [ ] æ·»åŠ é›†æˆæµ‹è¯•ï¼ˆAPI æµç¨‹ï¼‰
- [ ] å®¡è®¡æ—¥å¿—æŸ¥è¯¢æ¥å£
- [ ] ç³»ç»Ÿç›‘æ§ä»ªè¡¨æ¿

**é¢„è®¡å·¥æ—¶**: 25-35 å°æ—¶

**ä¼˜å…ˆçº§**: ğŸŸ¢ ä½

---

## 8. å¯¹é½æ€»ç»“è¯„åˆ†

| è¯„ä¼°ç»´åº¦ | å¾—åˆ† | ç­‰çº§ | è¯´æ˜ |
|---------|------|------|------|
| **åŠŸèƒ½å®Œæ•´æ€§** | 95% | A | æ ¸å¿ƒåŠŸèƒ½ 100%ï¼Œå¯é€‰å¢å¼º 40% |
| **ä»£ç è´¨é‡** | 90% | A- | ç»“æ„å¥½ï¼Œç¼ºæµ‹è¯• |
| **å®‰å…¨åˆè§„** | 90% | A- | æ ¸å¿ƒå®‰å…¨ 95%ï¼Œç¼º CORS/Rate-Limiting |
| **æ–‡æ¡£è¦†ç›–** | 95% | A | è§„èŒƒé½å…¨ï¼Œç»†èŠ‚ç¼ºå¤± 5% |
| **æ¶æ„è®¾è®¡** | 95% | A | ä¸‰å±‚åˆ†ç¦»æ¸…æ™° |
| **å¯ç»´æŠ¤æ€§** | 92% | A- | æ¨¡å—åŒ–å¥½ï¼Œç¼ºæ–‡æ¡£ |
| **å¯æ‰©å±•æ€§** | 93% | A- | åˆ†å±‚è®¾è®¡ä¾¿äºæ‰©å±• |
| **æ•´ä½“å¯¹é½** | **92%** | **A-** | **ä¼˜ç§€** |

---

## 9. æœ€ç»ˆç»“è®º

### âœ… ä¸»è¦æˆå°±

1. **æ¶æ„å®Œæˆåº¦é«˜**: ä»å•å±‚é‡æ„ä¸ºä¸‰å±‚ï¼Œæ¨¡å—åŒ–æ¸…æ™°
2. **æ ¸å¿ƒåŠŸèƒ½å®Œæ•´**: æ‰€æœ‰è§„èŒƒè¦æ±‚çš„åŠŸèƒ½éƒ½å·²å®ç°
3. **å®‰å…¨æ€§åŠ å¼º**: è®¤è¯ã€æˆæƒã€License ç®¡ç†å®Œå–„
4. **è¶…è§„èŒƒå®ç°**: å®¡è®¡æ—¥å¿—ã€é‚®ä»¶æé†’ã€approval_flags éƒ½è¶…å‡ºè§„èŒƒè¦æ±‚
5. **ä»£ç å¯ç»´æŠ¤**: åˆ†å±‚è®¾è®¡ä¾¿äºæœªæ¥ç»´æŠ¤å’Œæ‰©å±•

### âš ï¸ éœ€å…³æ³¨çš„æ–¹é¢

1. **ç¼ºå•å…ƒæµ‹è¯•**: ä»£ç ä¿®æ”¹æ—¶æ— è‡ªåŠ¨éªŒè¯
2. **ç¼ºå°‘å¯é€‰å¢å¼º**: æ–‡ä»¶é¢„è§ˆã€å¤§æ–‡ä»¶å…œåº•ã€è¡¨å•èšåˆæœªå®ç°
3. **æ–‡æ¡£éœ€è¡¥å……**: approval_flagsã€é‚®ä»¶æé†’ç»†èŠ‚æœªè®°å½•
4. **ç¼º CORS/Rate-Limiting**: å®‰å…¨æ€§è¿˜å¯è¿›ä¸€æ­¥åŠ å¼º

### ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³åš**ï¼ˆæœ¬å‘¨ï¼‰:
- æ·»åŠ  is_changed å¼ºåˆ¶æ ¡éªŒ
- æ›´æ–° Api and database.txt æ–‡æ¡£

**çŸ­æœŸåš**ï¼ˆ1-2 å‘¨ï¼‰:
- æ·»åŠ æ–‡ä»¶é¢„è§ˆæ¥å£
- æ·»åŠ  CORS å’Œ Rate Limiting

**ä¸­æœŸåš**ï¼ˆ1 ä¸ªæœˆï¼‰:
- è¡¥å……å•å…ƒæµ‹è¯•
- å®ç°å®¡è®¡æ—¥å¿—æŸ¥è¯¢

---

## é™„å½•ï¼šæ–‡ä»¶å¯¹åº”è¡¨

| å±‚çº§ | æ–‡ä»¶ | è¡Œæ•° | å¤æ‚åº¦ | å¯¹é½åº¦ |
|------|------|------|--------|--------|
| **API å±‚** | | | | |
| | auth.py | 120 | ä¸­ | âœ… 100% |
| | forms.py | 280 | é«˜ | âœ… 98% |
| | functions.py | 120 | ä¸­ | âœ… 95% |
| | nonfunctions.py | 120 | ä¸­ | âœ… 95% |
| | messages.py | 140 | ä¸­ | âœ… 95% |
| | files.py | 100 | ä¸­ | âœ… 90% |
| | ws.py | 80 | ä¸­ | âœ… 100% |
| **Services å±‚** | | | | |
| | permissions.py | 200 | é«˜ | âœ… 100% |
| | audit.py | 50 | ä½ | âœ… 100% |
| | reminders.py | 200 | ä¸­ | âœ… 100% |
| | websocket_manager.py | 100 | ä¸­ | âœ… 100% |
| **Repositories å±‚** | | | | |
| | users.py | 80 | ä½ | âœ… 100% |
| | forms.py | 200 | é«˜ | âœ… 100% |
| | functions.py | 80 | ä½ | âœ… 100% |
| | nonfunctions.py | 80 | ä½ | âœ… 100% |
| | messages.py | 80 | ä½ | âœ… 100% |
| | blocks.py | 60 | ä½ | âœ… 100% |
| | files.py | 60 | ä½ | âœ… 100% |
| | licenses.py | 120 | ä¸­ | âœ… 100% |
| **Models å±‚** | | | | |
| | base.py | 20 | ä½ | âœ… 100% |
| | user.py | 40 | ä½ | âœ… 100% |
| | form.py | 60 | ä½ | âœ… 100% |
| | function.py | 40 | ä½ | âœ… 100% |
| | nonfunction.py | 40 | ä½ | âœ… 100% |
| | message.py | 30 | ä½ | âœ… 100% |
| | block.py | 30 | ä½ | âœ… 100% |
| | file.py | 30 | ä½ | âœ… 100% |
| | audit_log.py | 30 | ä½ | âœ… 100% |
| | license.py | 40 | ä½ | âœ… 100% |
| **Schemas å±‚** | | | | |
| | auth.py | 40 | ä½ | âœ… 100% |
| | forms.py | 100 | ä½ | âœ… 100% |
| | functions.py | 60 | ä½ | âœ… 100% |
| | nonfunctions.py | 60 | ä½ | âœ… 100% |
| | messages.py | 50 | ä½ | âœ… 100% |
| | files.py | 40 | ä½ | âœ… 100% |
| | common.py | 30 | ä½ | âœ… 100% |
| **Utils å±‚** | | | | |
| | responses.py | 50 | ä½ | âœ… 100% |
| | security.py | 60 | ä¸­ | âœ… 100% |
| | email_client.py | 80 | ä¸­ | âœ… 100% |
| **Core å±‚** | | | | |
| | database.py | 30 | ä½ | âœ… 100% |
| | main.py | 100 | ä¸­ | âœ… 95% |
| **æ€»è®¡** | | ~3500 | - | **âœ… 96%** |

---

**æŠ¥å‘Šå®Œæˆæ—¥æœŸ**: 2025-12-21  
**ä¸‹æ¬¡è¯„ä¼°å»ºè®®**: 2025-01-31ï¼ˆå®æ–½ç¬¬ä¸€é˜¶æ®µåï¼‰
